msgid ""
msgstr ""
"Project-Id-Version: Linux From Scratch 11.4\n"
"Report-Msgid-Bugs-To: lfs-dev@lists.linuxfromscratch.org\n"
"POT-Creation-Date: 2023-08-27 00:20+0800\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: Xi Ruoyao <xry111@xry111.site>\n"
"Language-Team: none\n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"X-Pootle-Revision: 9999999\n"
"X-Pootle-Path: /zh_CN/lfs/chapter09/usage.po\n"
"X-Generator: Translate Toolkit 2.2.5\n"

#. type: Content of: <sect1><sect2><indexterm><secondary>
#: lfs-en/chapter08/sysklogd.xml lfs-en/chapter08/udev.xml
#: lfs-en/chapter08/shadow.xml lfs-en/chapter09/consoled.xml
#: lfs-en/chapter09/usage.xml lfs-en/chapter09/networkd.xml
#: lfs-en/chapter09/clock.xml lfs-en/chapter09/network.xml
msgid "configuring"
msgstr "配置"

#. type: Content of: <sect1><sect2><indexterm><primary>
#: lfs-en/chapter08/sysvinit.xml lfs-en/appendices/dependencies.xml
#: lfs-en/prologue/why.xml lfs-en/chapter09/usage.xml
msgid "Sysvinit"
msgstr "Sysvinit"

#. type: Content of: <sect1><sect2><title>
#: lfs-en/chapter09/consoled.xml lfs-en/chapter09/usage.xml
msgid "Configuring the Linux Console"
msgstr "配置 Linux 控制台"

#. type: Content of: <sect1><sect2><variablelist><varlistentry><listitem><indexterm><primary>
#: lfs-en/chapter09/consoled.xml lfs-en/chapter09/usage.xml
#: lfs-en/chapter09/bootscripts.xml
msgid "console"
msgstr "console"

#. type: Content of: <sect1><sect2><variablelist><varlistentry><term>
#: lfs-en/chapter09/consoled.xml lfs-en/chapter09/usage.xml
msgid "KEYMAP"
msgstr "KEYMAP"

#. type: Content of: <sect1><sect2><variablelist><varlistentry><term>
#: lfs-en/chapter09/consoled.xml lfs-en/chapter09/usage.xml
msgid "FONT"
msgstr "FONT"

#. type: Content of: <sect1><title>
#: lfs-en/chapter09/usage.xml
msgid "System V Bootscript Usage and Configuration"
msgstr "System V 引导脚本使用与配置"

#. type: Content of: <sect1><indexterm><primary>
#: lfs-en/chapter09/usage.xml lfs-en/chapter09/bootscripts.xml
msgid "Bootscripts"
msgstr "Bootscripts"

#. type: Content of: <sect1><indexterm><secondary>
#: lfs-en/chapter09/usage.xml lfs-en/chapter09/udev.xml
msgid "usage"
msgstr "用法"

#. type: Content of: <sect1><sect2><title>
#: lfs-en/chapter09/usage.xml
msgid "How Do the System V Bootscripts Work?"
msgstr "System V 引导脚本如何工作？"

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"This version of LFS uses a special booting facility named SysVinit, based on "
"a series of <emphasis>run levels</emphasis>. The boot procedure can be quite "
"different from one system to another; the fact that things worked one way in "
"a particular Linux distribution does not guarantee they will work the same "
"way in LFS. LFS has its own way of doing things, but it does respect "
"generally accepted standards."
msgstr ""
"当前构建的 LFS 版本使用一种称为 SysVinit 的特殊引导架构，它的设计基于一组"
"<emphasis>运行级别</emphasis> (run level)。不同系统的引导过程可能会区别很大；"
"一般不能假设那些在某个 Linux 发行版上正常工作的方法也能在 LFS 正常工作。LFS "
"有一些独特的工作方式，但它也遵守被广泛接受的标准。"

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"There is an alternative boot procedure called <command>systemd</command>. We "
"will not discuss that boot process any further here. For a detailed "
"description visit <ulink url=\"https://www.linux.com/training-tutorials/"
"understanding-and-using-systemd/\"/>."
msgstr ""
"另一种引导过程称为 <command>systemd</command>，我们不会继续讨论它。<ulink "
"url=\"https://www.linux.com/training-tutorials/understanding-and-using-"
"systemd/\"/> 对其进行了详细介绍。"

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"SysVinit (which will be referred to as <quote>init</quote> from now on)  "
"uses a run levels scheme. There are seven run levels, numbered 0 to 6.  "
"(Actually, there are more run levels, but the others are for special cases "
"and are generally not used. See <filename>init(8)</filename> for more "
"details.)  Each one of the seven corresponds to actions the computer is "
"supposed to perform when it starts up or shuts down. The default run level "
"is 3. Here are the descriptions of the different run levels as they are "
"implemented in LFS:"
msgstr ""
"SysVinit (之后简称为<quote>init</quote>) 使用一组运行级别。有七个编号为 0 到 "
"6 的运行级别 (实际上还有更多，但它们用于一些特殊情况，一般并不使用。参阅 "
"<filename>init(8)</filename> 了解更多细节。) 每个运行级别对应于计算机在启动或"
"关闭时应该进行的一组操作。默认运行级别是 3，下面介绍是 LFS 实现的不同运行级"
"别："

#. type: Content of: <sect1><sect2><literallayout>
#: lfs-en/chapter09/usage.xml
#, no-wrap
msgid ""
"0: halt the computer\n"
"1: single-user mode\n"
"2: reserved for customization, otherwise the same as 3\n"
"3: multi-user mode with networking\n"
"4: reserved for customization, otherwise the same as 3\n"
"5: same as 4, it is usually used for GUI login (like GNOME's <command>gdm</command> or LXDE's <command>lxdm</command>)\n"
"6: reboot the computer"
msgstr ""
"0：停止系统运行\n"
"1：单用户模式\n"
"2：保留用于自定义，如果没有自定义和 3 相同\n"
"3：有网络连接的多用户模式\n"
"4：保留用于自定义，如果没有自定义和 3 相同\n"
"5：和 4 相同，一般用于 GUI 登录 (如 GNOME 的 <command>gdm</command>) 或 LXDE 的 <command>lxdm</command>\n"
"6：重启计算机"

#. type: Content of: <sect1><sect2><note><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"Classically, run level 2 above was defined as \"multi-user mode without "
"networking\", but this was only the case many years ago when multiple users "
"could connect to a system via serial ports.  In today's environment it makes "
"no sense, and we now say it is \"reserved\"."
msgstr ""
"传统上，运行级别 2 被定义为“没有网络连接的多用户模式”，但是这只有在多年以前，"
"多位用户可以通过串口同时连接系统时才有意义。在当前的系统环境中，这样的定义没"
"有道理，因此我们将其指定为“保留”。"

#. type: Content of: <sect1><sect2><title>
#: lfs-en/chapter09/usage.xml
msgid "Configuring Sysvinit"
msgstr "配置 Sysvinit"

#. type: Content of: <sect1><sect2><indexterm><primary>
#: lfs-en/chapter09/usage.xml
msgid "/etc/inittab"
msgstr "/etc/inittab"

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"During kernel initialization, the first program that is run (if not "
"overridden on the command line) is <command>init</command>.  This program "
"reads the initialization file <filename>/etc/inittab</filename>.  Create "
"this file with:"
msgstr ""
"在内核初始化过程中，第一个运行的程序是 <command>init</command> (如果没有通过"
"命令行指定另外的程序)。这个程序读取初始化文件 <filename>/etc/inittab</"
"filename>。执行以下命令创建该文件："

#. type: Content of: <sect1><sect2><screen>
#: lfs-en/chapter09/usage.xml
#, no-wrap
msgid ""
"<userinput>cat &gt; /etc/inittab &lt;&lt; \"EOF\"\n"
"<literal># Begin /etc/inittab\n"
"\n"
"id:3:initdefault:\n"
"\n"
"si::sysinit:/etc/rc.d/init.d/rc S\n"
"\n"
"l0:0:wait:/etc/rc.d/init.d/rc 0\n"
"l1:S1:wait:/etc/rc.d/init.d/rc 1\n"
"l2:2:wait:/etc/rc.d/init.d/rc 2\n"
"l3:3:wait:/etc/rc.d/init.d/rc 3\n"
"l4:4:wait:/etc/rc.d/init.d/rc 4\n"
"l5:5:wait:/etc/rc.d/init.d/rc 5\n"
"l6:6:wait:/etc/rc.d/init.d/rc 6\n"
"\n"
"ca:12345:ctrlaltdel:/sbin/shutdown -t1 -a -r now\n"
"\n"
"su:S06:once:/sbin/sulogin\n"
"s1:1:respawn:/sbin/sulogin\n"
"\n"
"1:2345:respawn:/sbin/agetty --noclear tty1 9600\n"
"2:2345:respawn:/sbin/agetty tty2 9600\n"
"3:2345:respawn:/sbin/agetty tty3 9600\n"
"4:2345:respawn:/sbin/agetty tty4 9600\n"
"5:2345:respawn:/sbin/agetty tty5 9600\n"
"6:2345:respawn:/sbin/agetty tty6 9600\n"
"\n"
"# End /etc/inittab</literal>\n"
"EOF</userinput>"
msgstr ""
"<userinput>cat &gt; /etc/inittab &lt;&lt; \"EOF\"\n"
"<literal># Begin /etc/inittab\n"
"\n"
"id:3:initdefault:\n"
"\n"
"si::sysinit:/etc/rc.d/init.d/rc S\n"
"\n"
"l0:0:wait:/etc/rc.d/init.d/rc 0\n"
"l1:S1:wait:/etc/rc.d/init.d/rc 1\n"
"l2:2:wait:/etc/rc.d/init.d/rc 2\n"
"l3:3:wait:/etc/rc.d/init.d/rc 3\n"
"l4:4:wait:/etc/rc.d/init.d/rc 4\n"
"l5:5:wait:/etc/rc.d/init.d/rc 5\n"
"l6:6:wait:/etc/rc.d/init.d/rc 6\n"
"\n"
"ca:12345:ctrlaltdel:/sbin/shutdown -t1 -a -r now\n"
"\n"
"su:S06:once:/sbin/sulogin\n"
"s1:1:respawn:/sbin/sulogin\n"
"\n"
"1:2345:respawn:/sbin/agetty --noclear tty1 9600\n"
"2:2345:respawn:/sbin/agetty tty2 9600\n"
"3:2345:respawn:/sbin/agetty tty3 9600\n"
"4:2345:respawn:/sbin/agetty tty4 9600\n"
"5:2345:respawn:/sbin/agetty tty5 9600\n"
"6:2345:respawn:/sbin/agetty tty6 9600\n"
"\n"
"# End /etc/inittab</literal>\n"
"EOF</userinput>"

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"An explanation of this initialization file is in the man page for "
"<emphasis>inittab</emphasis>.  In LFS, the key command is <command>rc</"
"command>. The initialization file above instructs <command>rc</command> to "
"run all the scripts starting with an S in the <filename class=\"directory\">/"
"etc/rc.d/rcS.d</filename> directory followed by all the scripts starting "
"with an S in the <filename class=\"directory\">/etc/rc.d/rc?.d</filename> "
"directory where the question mark is specified by the initdefault value."
msgstr ""
"在 <emphasis>inittab</emphasis> 的手册页中可以找到对该初始化文件的解释。在 "
"LFS 中，关键的命令是 <command>rc</command>。上面的初始化文件会指示 "
"<command>rc</command> 先运行 <filename class=\"directory\">/etc/rc.d/rcS.d</"
"filename> 目录中所有文件名以 S 开头的脚本，再运行 <filename "
"class=\"directory\">/etc/rc.d/rc?.d</filename> 目录中所有文件名以 S 开头的脚"
"本。这里问号表示 initdefault 值指定的默认运行级别。"

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"As a convenience, the <command>rc</command> script reads a library of "
"functions in <filename class=\"directory\">/lib/lsb/init-functions</"
"filename>.  This library also reads an optional configuration file, "
"<filename>/etc/sysconfig/rc.site</filename>.  Any of the system "
"configuration parameters described in subsequent sections can be placed in "
"this file, allowing consolidation of all system parameters in this one file."
msgstr ""
"为了方便起见，<command>rc</command> 脚本从 <filename class=\"directory\">/"
"lib/lsb/init-functions</filename> 中读取脚本函数库。该函数库又会读取一个可选"
"的配置文件，<filename>/etc/sysconfig/rc.site</filename>。如果希望将所有系统参"
"数集中到一个文件中，可以将后续各节描述的系统配置文件参数都写入这个文件。"

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"As a debugging convenience, the functions script also logs all output to "
"<filename>/run/var/bootlog</filename>.  Since the <filename "
"class=\"directory\">/run</filename> directory is a tmpfs, this file is not "
"persistent across boots; however, it is appended to the more permanent file "
"<filename>/var/log/boot.log</filename> at the end of the boot process."
msgstr ""
"为了方便调试，脚本函数会将所有输出记录到 <filename>/run/var/bootlog</"
"filename>。由于 <filename class=\"directory\">/run</filename> 是 tmpfs，这个"
"文件在重新启动时不会被保留；然而，在引导过程结束时，该文件的内容会被附加到更"
"持久的日志文件 <filename>/var/log/boot.log</filename> 的末尾。"

#. type: Content of: <sect1><sect2><sect3><title>
#: lfs-en/chapter09/usage.xml
msgid "Changing Run Levels"
msgstr "切换运行级别"

#. type: Content of: <sect1><sect2><sect3><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"Changing run levels is done with <command>init <replaceable>&lt;runlevel&gt;"
"</replaceable></command>, where <replaceable>&lt;runlevel&gt;</replaceable> "
"is the target run level. For example, to reboot the computer, a user could "
"issue the <command>init 6</command> command, which is an alias for the "
"<command>reboot</command> command. Likewise, <command>init 0</command> is an "
"alias for the <command>halt</command> command."
msgstr ""
"通过命令 <command>init <replaceable>&lt;runlevel&gt;</replaceable></command> "
"可以切换运行级别，这里<replaceable>&lt;runlevel&gt;</replaceable> 是希望切换"
"到的运行级别。例如，为了重新启动计算机，用户可以执行 <command>init 6</"
"command> 命令，它和 <command>reboot</command> 作用相同。同样，<command>init "
"0</command> 和 <command>halt</command> 作用相同。"

#. type: Content of: <sect1><sect2><sect3><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"There are a number of directories under <filename class=\"directory\">/etc/"
"rc.d</filename> that look like <filename class=\"directory\">rc?.d</"
"filename> (where ? is the number of the run level) and <filename "
"class=\"directory\">rcS.d</filename>, all containing a number of symbolic "
"links. Some links begin with a <emphasis>K</emphasis>; the others begin with "
"an <emphasis>S</emphasis>, and all of them have two numbers following the "
"initial letter. The K means to stop (kill) a service and the S means to "
"start a service. The numbers determine the order in which the scripts are "
"run, from 00 to 99&mdash;the smaller the number, the sooner the script runs. "
"When <command>init</command> switches to another run level, the appropriate "
"services are either started or stopped, depending on the run level chosen."
msgstr ""
"在 <filename class=\"directory\">/etc/rc.d</filename> 中有一些名字如同 "
"<filename class=\"directory\">rc?.d</filename> 的目录 (这里 ? 是运行级别编"
"号)，以及一个目录 <filename class=\"directory\">rcS.d</filename>，这些目录都"
"包含一些符号链接。它们的文件名都以 <emphasis>K</emphasis> 或 <emphasis>S</"
"emphasis> 开头，且文件名中这两个字母之后一定有两位数字。K 表示停止 (杀死，"
"kill) 一个服务，而 S 表示启动 (start) 一个服务。两位数字决定脚本运行的顺序，"
"从 00 到 99 —— 数字更小的脚本更早执行。当 <command>init</command> 切换到另一"
"个运行级别时，它会执行这些脚本，从而适当地启动或停止服务，满足选择的运行级别"
"要求。"

#. type: Content of: <sect1><sect2><sect3><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"The real scripts are in <filename class=\"directory\">/etc/rc.d/init.d</"
"filename>. They do the actual work, and the symlinks all point to them. K "
"links and S links point to the same script in <filename class=\"directory\">/"
"etc/rc.d/init.d</filename>.  This is because the scripts can be called with "
"different parameters like <parameter>start</parameter>, <parameter>stop</"
"parameter>, <parameter>restart</parameter>, <parameter>reload</parameter>, "
"and <parameter>status</parameter>. When a K link is encountered, the "
"appropriate script is run with the <parameter>stop</parameter> argument. "
"When an S link is encountered, the appropriate script is run with the "
"<parameter>start</parameter> argument."
msgstr ""
"上述符号链接实际指向的脚本文件位于 <filename class=\"directory\">/etc/rc/"
"init.d</filename>。它们完成实际的工作。一对 K 链接和 S 链接指向 <filename "
"class=\"directory\">/etc/rc/init.d</filename> 中的同一脚本，这是因为脚本接受"
"不同的参数，如<parameter>start</parameter>，<parameter>stop</parameter>，"
"<parameter>restart</parameter>，<parameter>reload</parameter>，以及 "
"<parameter>status</parameter>。在发现 K 链接时，会以 <parameter>stop</"
"parameter> 参数运行脚本。在发现 S 链接时，会以 <parameter>start</parameter> "
"参数运行脚本。"

#. type: Content of: <sect1><sect2><sect3><para>
#: lfs-en/chapter09/usage.xml
msgid "These are descriptions of what the arguments make the scripts do:"
msgstr "下面是脚本接受的不同参数及其解释："

#. type: Content of: <sect1><sect2><sect3><variablelist><varlistentry><term>
#: lfs-en/chapter09/usage.xml
msgid "<parameter>start</parameter>"
msgstr "<parameter>start</parameter>"

#. type: Content of: <sect1><sect2><sect3><variablelist><varlistentry><listitem><para>
#: lfs-en/chapter09/usage.xml
msgid "The service is started."
msgstr "启动服务。"

#. type: Content of: <sect1><sect2><sect3><variablelist><varlistentry><term>
#: lfs-en/chapter09/usage.xml
msgid "<parameter>stop</parameter>"
msgstr "<parameter>stop</parameter>"

#. type: Content of: <sect1><sect2><sect3><variablelist><varlistentry><listitem><para>
#: lfs-en/chapter09/usage.xml
msgid "The service is stopped."
msgstr "停止服务。"

#. type: Content of: <sect1><sect2><sect3><variablelist><varlistentry><term>
#: lfs-en/chapter09/usage.xml
msgid "<parameter>restart</parameter>"
msgstr "<parameter>restart</parameter>"

#. type: Content of: <sect1><sect2><sect3><variablelist><varlistentry><listitem><para>
#: lfs-en/chapter09/usage.xml
msgid "The service is stopped and then started again."
msgstr "停止服务，再重新启动它。"

#. type: Content of: <sect1><sect2><sect3><variablelist><varlistentry><term>
#: lfs-en/chapter09/usage.xml
msgid "<parameter>reload</parameter>"
msgstr "<parameter>reload</parameter>"

#. type: Content of: <sect1><sect2><sect3><variablelist><varlistentry><listitem><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"The configuration of the service is updated.  This is used after the "
"configuration file of a service was modified, when the service does not need "
"to be restarted."
msgstr ""
"更新服务配置。当服务的配置文件被修改后，如果不需要重新启动它，就使用该参数。"

#. type: Content of: <sect1><sect2><sect3><variablelist><varlistentry><term>
#: lfs-en/chapter09/usage.xml
msgid "<parameter>status</parameter>"
msgstr "<parameter>status</parameter>"

#. type: Content of: <sect1><sect2><sect3><variablelist><varlistentry><listitem><para>
#: lfs-en/chapter09/usage.xml
msgid "Tells if the service is running and with which PIDs."
msgstr "报告服务是否正在运行中，如果正在运行，报告其 PID。"

#. type: Content of: <sect1><sect2><sect3><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"Feel free to modify the way the boot process works (after all, it is your "
"own LFS system). The files given here are an example of how it can be done."
msgstr ""
"您可以自由修改引导过程的工作方式 (毕竟这是您自己的 LFS 系统)。我们给出的文件"
"只是示例，展示完成引导过程的一种方式。"

#. type: Content of: <sect1><sect2><title>
#: lfs-en/chapter09/usage.xml
msgid "Udev Bootscripts"
msgstr "Udev 引导脚本"

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"The <filename>/etc/rc.d/init.d/udev</filename> initscript starts "
"<command>udevd</command>, triggers any \"coldplug\" devices that have "
"already been created by the kernel, and waits for any rules to complete.  "
"The script also unsets the uevent handler from the default of <filename>/"
"sbin/hotplug </filename>.  This is done because the kernel no longer needs "
"to call an external binary.  Instead, <command>udevd</command> will listen "
"on a netlink socket for uevents that the kernel raises."
msgstr ""
"<filename>/etc/rc.d/init.d/udev</filename> 初始化脚本启动 <command>udevd</"
"command>，触发内核已经创建的“冷插拔”设备，并等待所有 udev 规则执行完毕。该脚"
"本也会取消默认的 uevent 处理程序 <filename>/sbin/hotplug</filename>。这是因为"
"内核不再需要调用外部二进制程序。相反，<command>udevd</command> 会监听一个 "
"netlink 套接字，以获取内核发出的 uevent 事件。"

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"The <command>/etc/rc.d/init.d/udev_retry</command> script takes care of re-"
"triggering events for subsystems whose rules may rely on file systems that "
"are not mounted until the <command>mountfs</command> script is run (in "
"particular, <filename class=\"directory\">/usr</filename> and <filename "
"class=\"directory\">/var</filename> may cause this).  This script runs after "
"the <command>mountfs</command> script, so those rules (if re-triggered) "
"should succeed the second time around.  It is configured by the <filename>/"
"etc/sysconfig/udev_retry</filename> file; any words in this file other than "
"comments are considered subsystem names to trigger at retry time.  To find "
"the subsystem of a device, use <command>udevadm info --attribute-walk &lt;"
"device&gt;</command> where &lt;device&gt; is an absolute path in /dev or /"
"sys, such as /dev/sr0, or /sys/class/rtc."
msgstr ""
"<command>/etc/rc.d/init.d/udev_retry</command> 脚本处理一些子系统的重新触发事"
"件，这些子系统的规则可能依赖于 <command>mountfs</command> 脚本运行时才会挂载"
"的文件系统 (特别地，独立挂载的 <filename class=\"directory\">/usr</filename> "
"和 <filename class=\"directory\">/var</filename> 文件系统可能导致这种依赖)。"
"该脚本在 <command>mountfs</command> 脚本之后运行，因此这些规则 (如果被重新触"
"发) 这一次应该能够成功执行。<filename>/etc/sysconfig/udev_retry</filename> 文"
"件配置该脚本，其中除注释外的每个单词都被认为是一个需要重新触发的子系统名。为"
"了找到某个设备的子系统，可以使用命令 <command>udevadm info --attribute-walk "
"&lt;device&gt;</command>，这里 &lt;device&gt; 是一个 /dev 或 /sys 中的绝对路"
"径，例如 /dev/sr0 或 /sys/class/rtc。"

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"For information on kernel module loading and udev, see <xref "
"linkend=\"module-loading\"/>."
msgstr ""
"参阅<xref linkend=\"module-loading\"/>了解更多关于模块加载和 udev 的信息。"

#. type: Content of: <sect1><sect2><title>
#: lfs-en/chapter09/usage.xml
msgid "Configuring the System Clock"
msgstr "配置系统时钟"

#. type: Content of: <sect1><sect2><variablelist><varlistentry><listitem><indexterm><primary>
#: lfs-en/chapter09/usage.xml lfs-en/chapter09/bootscripts.xml
msgid "setclock"
msgstr "setclock"

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"The <command>setclock</command> script reads the time from the hardware "
"clock, also known as the BIOS or Complementary Metal Oxide Semiconductor "
"(CMOS) clock. If the hardware clock is set to UTC, this script will convert "
"the hardware clock's time to the local time using the <filename>/etc/"
"localtime</filename> file (which tells the <command>hwclock</command> "
"program which time zone to use). There is no way to detect whether or not "
"the hardware clock is set to UTC, so this must be configured manually."
msgstr ""
"<command>setclock</command> 脚本从硬件时钟读取时间，硬件时钟也常被称为 BIOS "
"时钟或互补金属氧化物半导体 (CMOS) 时钟。如果硬件时钟被设为 UTC 时间，该脚本会"
"根据 <filename>/etc/localtime</filename> 文件 (它告知 <command>hwclock</"
"command> 程序用户处于哪个时区)，将硬件时钟的时间转换成本地时间。不存在确定硬"
"件时钟是否为 UTC 的方法，因此这必须手动设置。"

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"The <command>setclock</command> program is run via <application>udev</"
"application> when the kernel detects the hardware capability upon boot.  It "
"can also be run manually with the stop parameter to store the system time to "
"the CMOS clock."
msgstr ""
"<command>setclock</command> 在引导后，由内核检测硬件功能时通过 "
"<application>udev</application> 执行。可以用 stop 参数手动调用它，以将系统时"
"间写入 CMOS 时钟。"

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"If you cannot remember whether or not the hardware clock is set to UTC, find "
"out by running the <userinput>hwclock --localtime --show</userinput> "
"command. This will display what the current time is according to the "
"hardware clock. If this time matches whatever your watch says, then the "
"hardware clock is set to local time. If the output from <command>hwclock</"
"command> is not local time, chances are it is set to UTC time. Verify this "
"by adding or subtracting the proper number of hours for your time zone to "
"the time shown by <command>hwclock</command>. For example, if you are "
"currently in the MST time zone, which is also known as GMT -0700, add seven "
"hours to the local time."
msgstr ""
"如果您不确定您的硬件时钟是否设置为 UTC，运行 <userinput>hwclock --localtime "
"--show</userinput> 命令，它会显示硬件时钟给出的当前时间。如果这个时间和您的手"
"表显示的一致，则说明硬件时钟被设定为本地时间。相反，如果 <command>hwclock</"
"command> 输出的时间不是本地时间，则硬件时钟很可能被设定为 UTC 时间。根据您的"
"时区，在 <command>hwclock</command> 显示的时间上加减对应的小时数，进行进一步"
"的验证。例如，如果您现在处于北美山地时区，即 GMT -0700，则需要在本地时间上加 "
"7 小时，再进行比较。"

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"Change the value of the <envar>UTC</envar> variable below to a value of "
"<parameter>0</parameter> (zero) if the hardware clock is <emphasis>NOT</"
"emphasis> set to UTC time."
msgstr ""
"将下面的配置文件中的 <envar>UTC</envar> 变量值改为 <parameter>0</parameter> "
"(零)，表示硬件时钟<emphasis>没有</emphasis>设为 UTC。"

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"Create a new file <filename>/etc/sysconfig/clock</filename> by running the "
"following:"
msgstr ""
"执行以下命令，创建新的 <filename>/etc/sysconfig/clock</filename> 文件："

#. type: Content of: <sect1><sect2><screen>
#: lfs-en/chapter09/usage.xml
#, no-wrap
msgid ""
"<userinput>cat &gt; /etc/sysconfig/clock &lt;&lt; \"EOF\"\n"
"<literal># Begin /etc/sysconfig/clock\n"
"\n"
"UTC=1\n"
"\n"
"# Set this to any options you might need to give to hwclock,\n"
"# such as machine hardware clock type for Alphas.\n"
"CLOCKPARAMS=\n"
"\n"
"# End /etc/sysconfig/clock</literal>\n"
"EOF</userinput>"
msgstr ""
"<userinput>cat &gt; /etc/sysconfig/clock &lt;&lt; \"EOF\"\n"
"<literal># Begin /etc/sysconfig/clock\n"
"\n"
"UTC=1\n"
"\n"
"# Set this to any options you might need to give to hwclock,\n"
"# such as machine hardware clock type for Alphas.\n"
"CLOCKPARAMS=\n"
"\n"
"# End /etc/sysconfig/clock</literal>\n"
"EOF</userinput>"

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"A good hint explaining how to deal with time on LFS is available at <ulink "
"url=\"&hints-root;time.txt\"/>. It explains issues such as time zones, UTC, "
"and the <envar>TZ</envar> environment variable."
msgstr ""
"在 <ulink url=\"&hints-root;time.txt\"/> 可以找到一个较好地介绍了如何在 LFS "
"中处理时间问题的 hint。它解释了与时区，UTC，以及 <envar>TZ</envar> 环境变量相"
"关的问题。"

#. type: Content of: <sect1><sect2><note><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"The CLOCKPARAMS and UTC parameters may also be set in the <filename>/etc/"
"sysconfig/rc.site</filename> file."
msgstr ""
"CLOCKPARAMS 和 UTC 参数也可以在 <filename>/etc/sysconfig/rc.site</filename> "
"文件中设置。"

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"This section discusses how to configure the <command>console</command> "
"bootscript that sets up the keyboard map, console font, and console kernel "
"log level. If non-ASCII characters (e.g., the copyright sign, the British "
"pound sign, and the Euro symbol) will not be used and the keyboard is a U.S. "
"one, much of this section can be skipped. Without the configuration file, "
"(or equivalent settings in <filename>rc.site</filename>), the "
"<command>console</command> bootscript will do nothing."
msgstr ""
"本节讨论如何配置 <command>console</command> 引导脚本，使之正确设定键盘映射，"
"控制台字体，以及控制台内核日志级别。如果不使用非 ASCII 字符 (如版权符号，英镑"
"符号，或者欧元符号)，而且使用美式键盘，则可以忽略本节的大多数内容。如果不创建"
"本节的配置文件 (且 <filename>rc.site</filename> 中没有对应的设置)，则 "
"<command>console</command> 脚本什么也不做。"

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"The <command>console</command> script reads the <filename>/etc/sysconfig/"
"console</filename> file for configuration information.  Decide which keymap "
"and screen font will be used. Various language-specific HOWTOs can also help "
"with this; see <ulink url=\"https://tldp.org/HOWTO/HOWTO-INDEX/other-lang."
"html\"/>. If still in doubt, look in the <filename class=\"directory\">/usr/"
"share/keymaps</filename> and <filename class=\"directory\">/usr/share/"
"consolefonts</filename> directories for valid keymaps and screen fonts. Read "
"the <filename>loadkeys(1)</filename> and <filename>setfont(8)</filename> "
"manual pages to determine the correct arguments for these programs."
msgstr ""
"<command>console</command> 脚本读取 <filename>/etc/sysconfig/console</"
"filename> 中的配置信息。它根据配置决定使用何种键映射和控制台字体。一些与特定"
"语言相关的 HOWTO 文档可以帮助您进行配置；参阅 <ulink url=\"https://tldp.org/"
"HOWTO/HOWTO-INDEX/other-lang.html\"/>。如果仍然有疑问，在<filename "
"class=\"directory\">/usr/share/keymaps</filename> 和 <filename "
"class=\"directory\">/usr/share/consolefonts</filename> 中寻找可用的键映射和控"
"制台字体，并阅读 <filename>loadkeys(1)</filename> 和 <filename>setfont(8)</"
"filename> 手册页，以确认应该传递给这两个程序的正确参数。"

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"The <filename>/etc/sysconfig/console</filename> file should contain lines of "
"the form: VARIABLE=\"value\". The following variables are recognized:"
msgstr ""
"<filename>/etc/sysconfig/console</filename> 文件应该包含若干行，每一行的的格"
"式都是：变量名=\"值\"。下列变量名会被识别："

#. type: Content of: <sect1><sect2><variablelist><varlistentry><term>
#: lfs-en/chapter09/usage.xml
msgid "LOGLEVEL"
msgstr "LOGLEVEL"

#. type: Content of: <sect1><sect2><variablelist><varlistentry><listitem><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"This variable specifies the log level for kernel messages sent to the "
"console as set by <command>dmesg -n</command>. Valid levels are from "
"\"1\" (no messages) to \"8\". The default level is \"7\"."
msgstr ""
"该变量指定被发送到控制台的内核消息日志级别，正如使用 <command>dmesg</"
"command> 设置的那样。有效的级别是“1” (不输出内核消息) 到“8”之间的某个数。默认"
"的日志级别是“7”。"

#. type: Content of: <sect1><sect2><variablelist><varlistentry><listitem><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"This variable specifies the arguments for the <command>loadkeys</command> "
"program, typically, the name of the keymap to load, e.g., <quote>it</quote>. "
"If this variable is not set, the bootscript will not run the "
"<command>loadkeys</command> program, and the default kernel keymap will be "
"used.  Note that a few keymaps have multiple versions with the same name (cz "
"and its variants in qwerty/ and qwertz/, es in olpc/ and qwerty/, and trf in "
"fgGIod/ and qwerty/). In these cases the parent directory should also be "
"specified (e.g. qwerty/es) to ensure the proper keymap is loaded."
msgstr ""
"该变量指定传递给 <command>loadkeys</command> 程序的参数，它通常是需要加载的键"
"映射名，例如<quote>it</quote>。如果这个变量没有设定，引导脚本不会运行 "
"<command>loadkeys</command>，系统将使用内核的默认键映射。注意某些键映射有文件"
"名相同的不同版本 (例如 cz 的和它的变体在 qwerty/ 和 qwertz/ 中，es 在 olpc/ "
"和 qwerty/ 中，以及 trf 在 fgGIod/ 和 qwerty/ 中)。在这种情况下，父目录名也要"
"指定 (例如 qwerty/es)，以保证加载正确的键映射。"

#. type: Content of: <sect1><sect2><variablelist><varlistentry><term>
#: lfs-en/chapter09/usage.xml
msgid "KEYMAP_CORRECTIONS"
msgstr "KEYMAP_CORRECTIONS"

#. type: Content of: <sect1><sect2><variablelist><varlistentry><listitem><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"This (rarely used) variable specifies the arguments for the second call to "
"the <command>loadkeys</command> program. This is useful if the stock keymap "
"is not completely satisfactory and a small adjustment has to be made. E.g., "
"to include the Euro sign into a keymap that normally doesn't have it, set "
"this variable to <quote>euro2</quote>."
msgstr ""
"这个 (很少使用的) 变量指定第二次调用 <command>loadkeys</command> 程序时使用的"
"参数。如果现有的键映射不完全符合要求，需要进行微调，这个变量是很有用的。例"
"如，如果需要为通常不包含欧元符号的键映射添加它，将这个变量设为<quote>euro2</"
"quote>。"

#.  because of the copyright sign 
#. type: Content of: <sect1><sect2><variablelist><varlistentry><listitem><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"This variable specifies the arguments for the <command>setfont</command> "
"program. Typically, this includes the font name, <quote>-m</quote>, and the "
"name of the application character map to load. E.g., in order to load the "
"<quote>lat1-16</quote> font together with the <quote>8859-1</quote> "
"application character map (appropriate in the USA), set this variable to "
"<quote>lat1-16 -m 8859-1</quote>.  In UTF-8 mode, the kernel uses the "
"application character map to convert 8-bit key codes to UTF-8. Therefore the "
"argument of the \"-m\" parameter should be set to the encoding of the "
"composed key codes in the keymap."
msgstr ""
"该变量指定传递给 <command>setfont</command> 程序的参数。通常它包含字体名，"
"<quote>-m</quote>，以及需要加载的应用程序字符映射名。例如，为了加载 "
"<quote>lat1-16</quote>字体和<quote>8859-1</quote>应用程序字符映射 (适用于美"
"国)，可以将该变量设置为<quote>lat1-16 -m 8859-1</quote>。在 UTF-8 模式下，内"
"核使用应用程序字符映射将键映射中编组的 8 位键码转化为 UTF-8，因此 “-m” 参数的"
"值应该被设定为键映射中编组的键码编码。"

#. type: Content of: <sect1><sect2><variablelist><varlistentry><term>
#: lfs-en/chapter09/usage.xml
msgid "UNICODE"
msgstr "UNICODE"

#. type: Content of: <sect1><sect2><variablelist><varlistentry><listitem><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"Set this variable to <quote>1</quote>, <quote>yes</quote>, or <quote>true</"
"quote> in order to put the console into UTF-8 mode. This is useful in UTF-8 "
"based locales and harmful otherwise."
msgstr ""
"将该变量设为<quote>1</quote>，<quote>yes</quote>，或者<quote>true</quote>，可"
"以将控制台设置于 UTF-8 模式。这对于基于 UTF-8 的 locale 很有用，但对于其他 "
"locale 有害。"

#. type: Content of: <sect1><sect2><variablelist><varlistentry><term>
#: lfs-en/chapter09/usage.xml
msgid "LEGACY_CHARSET"
msgstr "LEGACY_CHARSET"

#. type: Content of: <sect1><sect2><variablelist><varlistentry><listitem><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"For many keyboard layouts, there is no stock Unicode keymap in the Kbd "
"package. The <command>console</command> bootscript will convert an available "
"keymap to UTF-8 on the fly if this variable is set to the encoding of the "
"available non-UTF-8 keymap."
msgstr ""
"对于许多键盘布局，Kbd 软件包没有提供 Unicode 键映射。如果该变量被设定为一个可"
"用的非 UTF-8 键映射的编码，<command>console</command> 引导脚本会在需要时将可"
"用的键映射转换成 UTF-8。"

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter09/usage.xml
msgid "Some examples:"
msgstr "一些例子："

#. type: Content of: <sect1><sect2><itemizedlist><listitem><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"For a non-Unicode setup, only the KEYMAP and FONT variables are generally "
"needed. E.g., for a Polish setup, one would use:"
msgstr ""
"对于非 Unicode 配置，一般只需要设置 KEYMAP 和 FONT 两个变量。例如，下面是一个"
"波兰语配置："

#. type: Content of: <sect1><sect2><itemizedlist><listitem><screen>
#: lfs-en/chapter09/usage.xml
#, no-wrap
msgid ""
"<userinput>cat &gt; /etc/sysconfig/console &lt;&lt; \"EOF\"\n"
"<literal># Begin /etc/sysconfig/console\n"
"\n"
"KEYMAP=\"pl2\"\n"
"FONT=\"lat2a-16 -m 8859-2\"\n"
"\n"
"# End /etc/sysconfig/console</literal>\n"
"EOF</userinput>"
msgstr ""
"<userinput>cat &gt; /etc/sysconfig/console &lt;&lt; \"EOF\"\n"
"<literal># Begin /etc/sysconfig/console\n"
"\n"
"KEYMAP=\"pl2\"\n"
"FONT=\"lat2a-16 -m 8859-2\"\n"
"\n"
"# End /etc/sysconfig/console</literal>\n"
"EOF</userinput>"

#. type: Content of: <sect1><sect2><itemizedlist><listitem><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"As mentioned above, it is sometimes necessary to adjust a stock keymap "
"slightly. The following example adds the Euro symbol to the German keymap:"
msgstr ""
"正如前文所述，有时需要微调一个现有的键映射。下面的例子为德语键映射添加欧元符"
"号："

#. type: Content of: <sect1><sect2><itemizedlist><listitem><screen>
#: lfs-en/chapter09/usage.xml
#, no-wrap
msgid ""
"<userinput>cat &gt; /etc/sysconfig/console &lt;&lt; \"EOF\"\n"
"<literal># Begin /etc/sysconfig/console\n"
"\n"
"KEYMAP=\"de-latin1\"\n"
"KEYMAP_CORRECTIONS=\"euro2\"\n"
"FONT=\"lat0-16 -m 8859-15\"\n"
"UNICODE=\"1\"\n"
"\n"
"# End /etc/sysconfig/console</literal>\n"
"EOF</userinput>"
msgstr ""
"<userinput>cat &gt; /etc/sysconfig/console &lt;&lt; \"EOF\"\n"
"<literal># Begin /etc/sysconfig/console\n"
"\n"
"KEYMAP=\"de-latin1\"\n"
"KEYMAP_CORRECTIONS=\"euro2\"\n"
"FONT=\"lat0-16 -m 8859-15\"\n"
"UNICODE=\"1\"\n"
"\n"
"# End /etc/sysconfig/console</literal>\n"
"EOF</userinput>"

#. type: Content of: <sect1><sect2><itemizedlist><listitem><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"The following is a Unicode-enabled example for Bulgarian, where a stock "
"UTF-8 keymap exists:"
msgstr ""
"下面是一个使用 Unicode 的白俄罗斯语配置，白俄罗斯语有现有的 UTF-8 键映射："

#.  This is what is used by jhalfs for creating the console file: whenever
#.      you change the following, please inform the jhalfs maintainer(s). 
#. type: Content of: <sect1><sect2><itemizedlist><listitem><screen>
#: lfs-en/chapter09/usage.xml
#, no-wrap
msgid ""
"<userinput>cat &gt; /etc/sysconfig/console &lt;&lt; \"EOF\"\n"
"<literal># Begin /etc/sysconfig/console\n"
"\n"
"UNICODE=\"1\"\n"
"KEYMAP=\"bg_bds-utf8\"\n"
"FONT=\"LatArCyrHeb-16\"\n"
"\n"
"# End /etc/sysconfig/console</literal>\n"
"EOF</userinput>"
msgstr ""
"<userinput>cat &gt; /etc/sysconfig/console &lt;&lt; \"EOF\"\n"
"<literal># Begin /etc/sysconfig/console\n"
"\n"
"UNICODE=\"1\"\n"
"KEYMAP=\"bg_bds-utf8\"\n"
"FONT=\"LatArCyrHeb-16\"\n"
"\n"
"# End /etc/sysconfig/console</literal>\n"
"EOF</userinput>"

#. type: Content of: <sect1><sect2><itemizedlist><listitem><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"Due to the use of a 512-glyph LatArCyrHeb-16 font in the previous example, "
"bright colors are no longer available on the Linux console unless a "
"framebuffer is used. If one wants to have bright colors without a "
"framebuffer and can live without characters not belonging to his language, "
"it is still possible to use a language-specific 256-glyph font, as "
"illustrated below:"
msgstr ""
"由于在上面的例子中使用了 512 个字形的 LatArCyrHeb-16 字体，在 Linux 控制台中"
"不能使用明亮的颜色，除非使用了帧缓冲。如果希望在没有帧缓冲的情况下继续使用明"
"亮的颜色，且不需要那些不属于自己母语的字符，可以使用专用于一种语言的 256 字形"
"字体，配置文件如下："

#. type: Content of: <sect1><sect2><itemizedlist><listitem><screen>
#: lfs-en/chapter09/usage.xml
#, no-wrap
msgid ""
"<userinput>cat &gt; /etc/sysconfig/console &lt;&lt; \"EOF\"\n"
"<literal># Begin /etc/sysconfig/console\n"
"\n"
"UNICODE=\"1\"\n"
"KEYMAP=\"bg_bds-utf8\"\n"
"FONT=\"cyr-sun16\"\n"
"\n"
"# End /etc/sysconfig/console</literal>\n"
"EOF</userinput>"
msgstr ""
"<userinput>cat &gt; /etc/sysconfig/console &lt;&lt; \"EOF\"\n"
"<literal># Begin /etc/sysconfig/console\n"
"\n"
"UNICODE=\"1\"\n"
"KEYMAP=\"bg_bds-utf8\"\n"
"FONT=\"cyr-sun16\"\n"
"\n"
"# End /etc/sysconfig/console</literal>\n"
"EOF</userinput>"

#. type: Content of: <sect1><sect2><itemizedlist><listitem><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"The following example illustrates keymap autoconversion from ISO-8859-15 to "
"UTF-8 and enabling dead keys in Unicode mode:"
msgstr ""
"下面的例子展示了从 ISO-8859-1 到 UTF-8 的键映射自动转换，同时在 Unicode 模式"
"下启用了死键："

#. type: Content of: <sect1><sect2><itemizedlist><listitem><screen>
#: lfs-en/chapter09/usage.xml
#, no-wrap
msgid ""
"<userinput>cat &gt; /etc/sysconfig/console &lt;&lt; \"EOF\"\n"
"<literal># Begin /etc/sysconfig/console\n"
"\n"
"UNICODE=\"1\"\n"
"KEYMAP=\"de-latin1\"\n"
"KEYMAP_CORRECTIONS=\"euro2\"\n"
"LEGACY_CHARSET=\"iso-8859-15\"\n"
"FONT=\"LatArCyrHeb-16 -m 8859-15\"\n"
"\n"
"# End /etc/sysconfig/console</literal>\n"
"EOF</userinput>"
msgstr ""
"<userinput>cat &gt; /etc/sysconfig/console &lt;&lt; \"EOF\"\n"
"<literal># Begin /etc/sysconfig/console\n"
"\n"
"UNICODE=\"1\"\n"
"KEYMAP=\"de-latin1\"\n"
"KEYMAP_CORRECTIONS=\"euro2\"\n"
"LEGACY_CHARSET=\"iso-8859-15\"\n"
"FONT=\"LatArCyrHeb-16 -m 8859-15\"\n"
"\n"
"# End /etc/sysconfig/console</literal>\n"
"EOF</userinput>"

#. type: Content of: <sect1><sect2><itemizedlist><listitem><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"Some keymaps have dead keys (i.e., keys that don't produce a character by "
"themselves, but put an accent on the character produced by the next key) or "
"define composition rules (such as: <quote>press Ctrl+. A E to get &AElig;</"
"quote> in the default keymap).  Linux-&linux-version; interprets dead keys "
"and composition rules in the keymap correctly only when the source "
"characters to be composed together are not multibyte. This deficiency "
"doesn't affect keymaps for European languages, because there accents are "
"added to unaccented ASCII characters, or two ASCII characters are composed "
"together. However, in UTF-8 mode it is a problem; e.g., for the Greek "
"language, where one sometimes needs to put an accent on the letter "
"<quote>alpha</quote>.  The solution is either to avoid the use of UTF-8, or "
"to install the X window system, which doesn't have this limitation, in its "
"input handling."
msgstr ""
"某些键映射有死键 (即，这些键本身不产生字符，而是在下一次按键产生的字符上附加"
"音调) 或定义了组合规则 (例如在默认键映射中，<quote>按下 Ctrl+. A E 得到 "
"&AElig;</quote>)。Linux-&linux-version; 只有在被组合的不是多字节字符的情况"
"下，才能正常解析死键和组合规则。这个缺陷不影响欧洲语言的键映射，因为在欧洲语"
"言中要么是一个音调被附加到不带音调的 ASCII 字符上，要么是两个 ASCII 字符被组"
"合在一起。然而，在 UTF-8 模式中，以希腊语为例，当某人要在<quote>alpha</quote>"
"字符上附加音调时,就会出现问题。解决方法是要么不使用 UTF-8，要么安装 X 窗口系"
"统，它处理输入时没有这个限制。"

#. type: Content of: <sect1><sect2><itemizedlist><listitem><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"For Chinese, Japanese, Korean, and some other languages, the Linux console "
"cannot be configured to display the needed characters. Users who need such "
"languages should install the X Window System, fonts that cover the necessary "
"character ranges, and the proper input method (e.g., SCIM supports a wide "
"variety of languages)."
msgstr ""
"对于中文，日文，韩文，以及其他一些语言文字，无论如何配置 Linux 控制台，都不可"
"能正常显示所需要的字符。这些语言的用户应该安装 X 窗口系统，能够覆盖所需要的字"
"符的字体，以及合适的输入法 (如 SCIM 支持许多语言的输入)。"

#. type: Content of: <sect1><sect2><note><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"The <filename>/etc/sysconfig/console</filename> file only controls the Linux "
"text console localization. It has nothing to do with setting the proper "
"keyboard layout and terminal fonts in the X Window System, with ssh "
"sessions, or with a serial console. In such situations, limitations "
"mentioned in the last two list items above do not apply."
msgstr ""
"<filename>/etc/sysconfig/console</filename> 文件只控制 Linux 字符控制台的本地"
"化。它和 X 窗口系统，ssh 连接，或者串口终端中的键盘布局设置和终端字体毫无关"
"系。在这些情况下，不存在上述的两项限制。"

#. type: Content of: <sect1><sect2><title>
#: lfs-en/chapter09/usage.xml
msgid "Creating Files at Boot"
msgstr "在引导时创建文件"

#. type: Content of: <sect1><sect2><indexterm><primary>
#: lfs-en/chapter09/usage.xml
msgid "File creation at boot"
msgstr "File creation at boot"

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"At times, it is desirable to create files at boot time.  For instance, the "
"<filename class=\"directory\">/tmp/.ICE-unix</filename> directory is often "
"needed.  This can be done by creating an entry in the <filename>/etc/"
"sysconfig/createfiles</filename> configuration script.  The format of this "
"file is embedded in the comments of the default configuration file."
msgstr ""
"有时，我们希望在引导时创建一些文件，例如可能需要 <filename "
"class=\"directory\">/tmp/.ICE-unix</filename> 目录。为此，可以在 <filename>/"
"etc/sysconfig/createfiles</filename> 配置脚本中创建一项。该文件的格式包含在默"
"认配置文件的注释中。"

#. type: Content of: <sect1><sect2><title>
#: lfs-en/chapter09/usage.xml
msgid "Configuring the Sysklogd Script"
msgstr "配置 Sysklogd 脚本"

#. type: Content of: <sect1><sect2><variablelist><varlistentry><listitem><indexterm><primary>
#: lfs-en/chapter09/usage.xml lfs-en/chapter09/bootscripts.xml
msgid "sysklogd"
msgstr "sysklogd"

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"The <filename>sysklogd</filename> script invokes the <command>syslogd</"
"command> program as a part of System V initialization.  The <parameter>-m 0</"
"parameter> option turns off the periodic timestamp mark that "
"<command>syslogd</command> writes to the log files every 20 minutes by "
"default.  If you want to turn on this periodic timestamp mark, edit "
"<filename>/etc/sysconfig/rc.site</filename> and define the variable "
"SYSKLOGD_PARMS to the desired value.  For instance, to remove all "
"parameters, set the variable to a null value:"
msgstr ""
"<filename>sysklogd</filename> 脚本启动 <command>sysklogd</command> 程序，这"
"是 System V 初始化过程的一部分。<parameter>-m 0</parameter> 选项关闭 "
"<command>sysklogd</command> 每 20 分钟写入日志文件的时间戳。如果您希望启用这"
"个周期性时间戳标志，编辑 <filename>/etc/sysconfig/rc.site</filename>，将 "
"SYSKLOGD_PARMS 定义为您希望的值。例如，如果要删除所有参数，将该变量设定为空："

#. type: Content of: <sect1><sect2><screen>
#: lfs-en/chapter09/usage.xml
#, no-wrap
msgid "SYSKLOGD_PARMS="
msgstr "SYSKLOGD_PARMS="

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter09/usage.xml
msgid "See <userinput>man syslogd</userinput> for more options."
msgstr "参阅 <userinput>man syslogd</userinput> 了解更多可用选项。"

#. type: Content of: <sect1><sect2><title>
#: lfs-en/chapter09/usage.xml
msgid "The rc.site File"
msgstr "rc.site 文件"

#. type: Content of: <sect1><sect2><indexterm><primary>
#: lfs-en/chapter09/usage.xml
msgid "rc.site"
msgstr "rc.site"

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"The optional <filename>/etc/sysconfig/rc.site</filename> file contains "
"settings that are automatically set for each SystemV boot script.  It can "
"alternatively set the values specified in the <filename>hostname</filename>, "
"<filename>console</filename>, and <filename>clock</filename> files in the "
"<filename class='directory'>/etc/sysconfig/</filename> directory.  If the "
"associated variables are present in both these separate files and "
"<filename>rc.site</filename>, the values in the script-specific files take "
"effect."
msgstr ""
"可选的 <filename>/etc/sysconfig/rc.site</filename> 文件包含了为每个 System V "
"引导脚本自动设定的配置。<filename class=\"directory\">/etc/sysconfig/</"
"filename> 目录中 <filename>hostname</filename>，<filename>console</"
"filename>，以及 <filename>clock</filename> 文件中的变量值也可以在这里设定。如"
"果这些分立的文件和 <filename>rc.site</filename> 包含相同的变量名，则分立文件"
"中的设定被优先使用。"

#. type: Content of: <sect1><sect2><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"<filename>rc.site</filename> also contains parameters that can customize "
"other aspects of the boot process.  Setting the IPROMPT variable will enable "
"selective running of bootscripts.  Other options are described in the file "
"comments.  The default version of the file is as follows:"
msgstr ""
"<filename>rc.site</filename> 也包含自定义引导过程其他属性的参数。设定 "
"IPROMPT 变量会启用引导脚本的选择性执行。其他选项在文件注释中描述。该文件的默"
"认版本如下："

#.  Use role to fix a pdf generation problem 
#. type: Content of: <sect1><sect2><screen>
#: lfs-en/chapter09/usage.xml
#, no-wrap
msgid "&site;"
msgstr "&site;"

#. type: Content of: <sect1><sect2><sect3><title>
#: lfs-en/chapter09/usage.xml
msgid "Customizing the Boot and Shutdown Scripts"
msgstr "自定义引导和关机脚本"

#. type: Content of: <sect1><sect2><sect3><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"The LFS boot scripts boot and shut down a system in a fairly efficient "
"manner, but there are a few tweaks you can make in the rc.site file to "
"improve speed even more, and to adjust messages according to your "
"preferences. To do this, adjust the settings in the <filename>/etc/sysconfig/"
"rc.site</filename> file above."
msgstr ""
"LFS 引导脚本能够较为高效地引导和关闭系统，但是您仍然可以微调 rc.site 文件以进"
"一步提高速度，或根据您的个人品味调整引导消息。为此，需要修改上面给出的"
"<filename>/etc/sysconfig/rc.site</filename> 文件。"

#. type: Content of: <sect1><sect2><sect3><itemizedlist><listitem><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"During the boot script <filename>udev</filename>, there is a call to "
"<command>udev settle</command> that requires some time to complete. This "
"time may or may not be required depending on the devices in the system.  If "
"you only have simple partitions and a single ethernet card, the boot process "
"will probably not need to wait for this command.  To skip it, set the "
"variable OMIT_UDEV_SETTLE=y."
msgstr ""
"在引导脚本 <filename>udev</filename> 的执行过程中，它会调用 <command>udev "
"settle</command>，该命令需要一段时间才能完成。您的系统可能真的需要这段时间，"
"也可能实际上并不需要，这和系统中的设备有关。如果您只有简单分区，且只有一块网"
"卡，引导过程可能并不需要等待该命令。设定 OMIT_UDEV_SETTLE=y 可以跳过它。"

#. type: Content of: <sect1><sect2><sect3><itemizedlist><listitem><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"The boot script <filename>udev_retry</filename> also runs <command>udev "
"settle</command> by default.  This command is only needed if the <filename "
"class='directory'>/var</filename> directory is separately mounted, because "
"the clock needs the <filename>/var/lib/hwclock/adjtime</filename> file.  "
"Other customizations may also need to wait for udev to complete, but in many "
"installations it is not necessary.  Skip the command by setting the variable "
"OMIT_UDEV_RETRY_SETTLE=y."
msgstr ""
"引导脚本 <filename>udev_retry</filename> 在默认配置下也会执行 <command>udev "
"settle</command>。这只有在 <filename class='directory'>/var</filename> 目录是"
"独立挂载的文件系统时才有必要，因为系统时钟需要 <filename>/var/lib/hwclock/"
"adjtime</filename> 文件。其他的自定义配置也可能需要等待 udev 完成，但在大多数"
"配置中并没有这种必要。设定 OMIT_UDEV_RETRY_SETTLE=y 可以跳过它。"

#. type: Content of: <sect1><sect2><sect3><itemizedlist><listitem><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"By default, the file system checks are silent.  This can appear to be a "
"delay during the bootup process.  To turn on the <command>fsck</command> "
"output, set the variable VERBOSE_FSCK=y."
msgstr ""
"默认配置中，文件系统检查是静默的。这可能看上去像引导过程中的时延。设定变量 "
"VERBOSE_FSCK=y 可以显示 <command>fsck</command> 的输出。"

#. type: Content of: <sect1><sect2><sect3><itemizedlist><listitem><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"When rebooting, you may want to skip the filesystem check, <command>fsck</"
"command>, completely.  To do this, either create the file <filename>/"
"fastboot</filename> or reboot the system with the command <command>/sbin/"
"shutdown -f -r now</command>.  On the other hand, you can force all file "
"systems to be checked by creating <filename>/forcefsck</filename> or running "
"<command>shutdown</command> with the <parameter>-F</parameter> parameter "
"instead of <parameter>-f</parameter>."
msgstr ""
"在重新启动系统时，您可能希望完全跳过进行文件系统检查的 <command>fsck</"
"command> 命令。为此，可以创建一个文件 <filename>/fastboot</filename>，或者使"
"用命令 <command>/sbin/shutdown -f -r now</command>。反之，如果您希望在重新启"
"动系统时强制检查所有文件系统，可以创建文件 <filename>/forcefsck</filename>，"
"或者在前面的 <command>shutdown</command> 命令中使用 <parameter>-F</"
"parameter> 参数代替 <parameter>-f</parameter>。"

#. type: Content of: <sect1><sect2><sect3><itemizedlist><listitem><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"Setting the variable FASTBOOT=y will disable <command>fsck</command> during "
"the boot process until it is removed.  This is not recommended on a "
"permanent basis."
msgstr ""
"设定变量 FASTBOOT=y 会在引导过程中完全禁止 <command>fsck</command>，直到移除"
"该变量。从长远角度看，不推荐使用它。"

#. type: Content of: <sect1><sect2><sect3><itemizedlist><listitem><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"Normally, all files in the <filename class='directory'>/tmp</filename> "
"directory are deleted at boot time.  Depending on the number of files or "
"directories present, this can cause a noticeable delay in the boot process.  "
"To skip removing these files set the variable SKIPTMPCLEAN=y."
msgstr ""
"通常，<filename class='directory'>/tmp</filename> 目录中的所有文件都会在引导"
"过程中被删除。如果其中有较多的文件或目录，可能导致引导过程中出现可观的延时。"
"设定变量 SKIPTMPCLEAN=y 可以跳过删除这些文件的引导步骤。"

#. type: Content of: <sect1><sect2><sect3><itemizedlist><listitem><para>
#: lfs-en/chapter09/usage.xml
msgid ""
"During shutdown, the <command>init</command> program sends a TERM signal to "
"each program it has started (e.g. agetty), waits for a set time (default 3 "
"seconds), then sends each process a KILL signal and waits again.  This "
"process is repeated in the <command>sendsignals</command> script for any "
"processes that are not shut down by their own scripts.  The delay for "
"<command>init</command> can be set by passing a parameter.  For example to "
"remove the delay in <command>init</command>, pass the -t0 parameter when "
"shutting down or rebooting (e.g.  <command>/sbin/shutdown -t0 -r now</"
"command>).  The delay for the <command>sendsignals</command> script can be "
"skipped by setting the parameter KILLDELAY=0."
msgstr ""
"在关机时，<command>init</command> 程序会向它启动的每个程序 (例如 agetty) 发"
"送 TERM 信号，等待一段固定的时间 (默认是 3 秒)，然后向每个进程发送 KILL 信"
"号，再等待一次。对于所有未被自己的引导脚本关闭的进程，<command>sendsignals</"
"command> 脚本会重复以上过程。<command>init</command> 的等待时间可以通过传递参"
"数进行设定。例如，如果要完全取消 <command>init</command> 的等待时间，可以在关"
"机或重新启动时传递 -t0 参数 (如同 <command>/sbin/shutdown -t0 -r now</"
"command>)。<command>sendsignals</command> 中的等待时间可以通过设定参数 "
"KILLDELAY=0 取消。"
