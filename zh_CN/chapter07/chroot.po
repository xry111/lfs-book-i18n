msgid ""
msgstr ""
"Project-Id-Version: Linux From Scratch 11.4\n"
"Report-Msgid-Bugs-To: lfs-dev@lists.linuxfromscratch.org\n"
"POT-Creation-Date: 2024-01-02 21:02+0800\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: Xi Ruoyao <xry111@xry111.site>\n"
"Language-Team: none\n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"X-Pootle-Revision: 9999999\n"
"X-Pootle-Path: /zh_CN/lfs/chapter07/chroot.po\n"
"X-Generator: Translate Toolkit 2.2.5\n"

#. type: Content of: <sect1><title>
#: lfs-en/chapter07/chroot.xml
msgid "Entering the Chroot Environment"
msgstr "进入 Chroot 环境"

#. type: Content of: <sect1><para>
#: lfs-en/chapter07/chroot.xml
msgid ""
"Now that all the packages which are required to build the rest of the needed "
"tools are on the system, it is time to enter the chroot environment and "
"finish installing the temporary tools. This environment will also be used to "
"install the final system. As user <systemitem class=\"username\">root</"
"systemitem>, run the following command to enter the environment that is, at "
"the moment, populated with nothing but temporary tools:"
msgstr ""
"现在已经准备好了所有继续构建其余工具时必要的软件包，可以进入 chroot 环境并完"
"成临时工具的安装。在安装最终的系统时，会继续使用该 chroot 环境。以 "
"<systemitem class=\"username\">root</systemitem> 用户身份，运行以下命令以进入"
"当前只包含临时工具的 chroot 环境："

#. type: Content of: <sect1><screen>
#: lfs-en/chapter07/chroot.xml
#, no-wrap
msgid ""
"<userinput>chroot \"$LFS\" /usr/bin/env -i   \\\n"
"    HOME=/root                  \\\n"
"    TERM=\"$TERM\"                \\\n"
"    PS1='(lfs chroot) \\u:\\w\\$ ' \\\n"
"    PATH=/usr/bin:/usr/sbin     \\\n"
"    MAKEFLAGS=\"-j<replaceable>$(nproc)</replaceable>\"      \\\n"
"    TESTSUITEFLAGS=\"-j<replaceable>$(nproc)</replaceable>\" \\\n"
"    /bin/bash --login</userinput>"
msgstr ""
"<userinput>chroot \"$LFS\" /usr/bin/env -i   \\\n"
"    HOME=/root                  \\\n"
"    TERM=\"$TERM\"                \\\n"
"    PS1='(lfs chroot) \\u:\\w\\$ ' \\\n"
"    PATH=/usr/bin:/usr/sbin     \\\n"
"    MAKEFLAGS=\"-j<replaceable>$(nproc)</replaceable>\"      \\\n"
"    TESTSUITEFLAGS=\"-j<replaceable>$(nproc)</replaceable>\" \\\n"
"    /bin/bash --login</userinput>"

#. type: Content of: <sect1><para>
#: lfs-en/chapter07/chroot.xml
msgid ""
"If you don't want to use all available logical cores, replace "
"<replaceable>$(nproc)</replaceable> with the number of logical cores you "
"want to use for building packages in this chapter and the following "
"chapters.  The test suites of some packages (notably Autoconf, Libtool, and "
"Tar) in &ch-final; are not affected by <envar>MAKEFLAGS</envar>, they use a "
"<envar>TESTSUITEFLAGS</envar> environment variable instead. We set that here "
"as well for running these test suites with multiple cores."
msgstr ""
"如果不希望使用所有可用的逻辑 CPU 核心，将 <replaceable>$(nproc)</"
"replaceable> 替换为在本章和后续章节中构建软件包时所希望使用的核心数。&ch-"
"final; 中的一些软件包 (如 Autoconf, Libtool, 以及 Tar) 的测试套件不受 "
"<envar>MAKEFLAGS</envar> 控制，它们使用另一个环境变量 <envar>TESTSUITEFLAGS</"
"envar>。我们在此也设置这个变量，以便用多个 CPU 核心运行测试套件。"

#. type: Content of: <sect1><para>
#: lfs-en/chapter07/chroot.xml
msgid ""
"The <parameter>-i</parameter> option given to the <command>env</command> "
"command will clear all the variables in the chroot environment. After that, "
"only the <envar>HOME</envar>, <envar>TERM</envar>, <envar>PS1</envar>, and "
"<envar>PATH</envar> variables are set again. The <parameter>TERM=$TERM</"
"parameter> construct sets the <envar>TERM</envar> variable inside chroot to "
"the same value as outside chroot. This variable is needed so programs like "
"<command>vim</command> and <command>less</command> can operate properly.  If "
"other variables are desired, such as <envar>CFLAGS</envar> or "
"<envar>CXXFLAGS</envar>, this is a good place to set them."
msgstr ""
"通过传递 <parameter>-i</parameter> 选项给 <command>env</command> 命令，可以清"
"除 chroot 环境中的所有环境变量。随后，只重新设定 <envar>HOME</envar>，"
"<envar>TERM</envar>，<envar>PS1</envar>，以及 <envar>PATH</envar> 变量。参数 "
"<parameter>TERM=$TERM</parameter> 将 chroot 环境中的 <envar>TERM</envar> 变量"
"设为和 chroot 环境外相同的值。一些程序需要这个变量才能正常工作，例如 "
"<command>vim</command> 和 <command>less</command>。如果需要设定其他变量，例"
"如 <envar>CFLAGS</envar> 或 <envar>CXXFLAGS</envar>，也可以在这里设定。"

#. type: Content of: <sect1><para>
#: lfs-en/chapter07/chroot.xml
msgid ""
"From this point on, there is no need to use the <envar>LFS</envar> variable "
"any more because all work will be restricted to the LFS file system; the "
"<command>chroot</command> command runs the Bash shell with the root "
"(<filename class=\"directory\">/</filename>) directory set to <filename "
"class='directory'>$LFS</filename>."
msgstr ""
"从现在开始，就不再需要使用 <envar>LFS</envar> 环境变量，因为所有工作都被局限"
"在 LFS 文件系统内。这是由于 <command>chroot</command> 命令启动 Bash 时，已经"
"将根目录 (<filename class=\"directory\">/</filename>) 设置为 <filename "
"class='directory'>$LFS</filename>。"

#. type: Content of: <sect1><para>
#: lfs-en/chapter07/chroot.xml
msgid ""
"Notice that <filename class=\"directory\">/tools/bin</filename> is not in "
"the <envar>PATH</envar>. This means that the cross toolchain will no longer "
"be used."
msgstr ""
"注意 <filename class=\"directory\">/tools/bin</filename> 不在 <envar>PATH</"
"envar> 中。这意味着不再使用交叉工具链。"

#. type: Content of: <sect1><para>
#: lfs-en/chapter07/chroot.xml
msgid ""
"Also note that the <command>bash</command> prompt will say <computeroutput>I "
"have no name!</computeroutput> This is normal because the <filename>/etc/"
"passwd</filename> file has not been created yet."
msgstr ""
"另外，注意 <command>bash</command> 的提示符会包含 <computeroutput>I have no "
"name!</computeroutput>。这是正常的，因为现在还没有创建 <filename>/etc/"
"passwd</filename> 文件。"

#. type: Content of: <sect1><note><para>
#: lfs-en/chapter07/chroot.xml
msgid ""
"It is important that all the commands throughout the remainder of this "
"chapter and the following chapters are run from within the chroot "
"environment. If you leave this environment for any reason (rebooting for "
"example), ensure that the virtual kernel filesystems are mounted as "
"explained in <xref linkend=\"ch-tools-bindmount\"/> and <xref linkend=\"ch-"
"tools-kernfsmount\"/> and enter chroot again before continuing with the "
"installation."
msgstr ""
"本章剩余部分和后续各章中的命令都要在 chroot 环境中运行。如果您因为一些原因 "
"(如重新启动计算机) 离开了该环境，必须确认虚拟内核文件系统如<xref "
"linkend=\"ch-tools-bindmount\"/>和<xref linkend=\"ch-tools-kernfsmount\"/>所"
"述挂载好，然后重新进入 chroot 环境，才能继续安装 LFS。"
